gcc/ChangeLog
2007-11-27  Bernhard Fischer  <>

	* config/arm/arm-protos.h (arm_vector_mode_supported_p,
	arm_hard_regno_mode_ok, const_ok_for_arm): Do not hide non-rtx related
	function prototypes in RTX_CODE.
	* genopinit.c: Include tm_p.h.

---
 gcc/config/arm/arm-protos.h |    2 +-
 gcc/genopinit.c             |    1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

Index: gcc-4.5.0/gcc/config/arm/arm-protos.h
===================================================================
--- gcc-4.5.0.orig/gcc/config/arm/arm-protos.h	2010-02-09 16:09:58.000000000 +0100
+++ gcc-4.5.0/gcc/config/arm/arm-protos.h	2010-02-09 16:10:16.000000000 +0100
@@ -43,10 +43,10 @@
 extern void arm_output_fn_unwind (FILE *, bool);
   
 
-#ifdef RTX_CODE
 extern bool arm_vector_mode_supported_p (enum machine_mode);
 extern int arm_hard_regno_mode_ok (unsigned int, enum machine_mode);
 extern int const_ok_for_arm (HOST_WIDE_INT);
+#ifdef RTX_CODE
 extern int arm_split_constant (RTX_CODE, enum machine_mode, rtx,
 			       HOST_WIDE_INT, rtx, rtx, int);
 extern RTX_CODE arm_canonicalize_comparison (RTX_CODE, enum machine_mode,
Index: gcc-4.5.0/gcc/genopinit.c
===================================================================
--- gcc-4.5.0.orig/gcc/genopinit.c	2010-02-09 16:09:58.000000000 +0100
+++ gcc-4.5.0/gcc/genopinit.c	2010-02-09 16:10:16.000000000 +0100
@@ -490,6 +490,7 @@
   printf ("#include \"expr.h\"\n");
   printf ("#include \"optabs.h\"\n");
   printf ("#include \"reload.h\"\n\n");
+  printf ("#include \"tm_p.h\"\n\n");
 
   printf ("void\ninit_all_optabs (void)\n{\n");
 
