http://bugs.gentoo.org/202511

2007-12-24  Mike Frysinger  <vapier@gentoo.org>

	* elf/Makefile ($(objpfx)ld.so): Use POSIX (EF)? in awk.

---
 elf/Makefile |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: eglibc-2.11/elf/Makefile
===================================================================
--- eglibc-2.11.orig/elf/Makefile	2009-08-09 16:33:15.000000000 +0200
+++ eglibc-2.11/elf/Makefile	2010-02-08 18:25:52.000000000 +0100
@@ -373,7 +373,7 @@
 		  -Wl,-soname=$(rtld-installed-name) -T $@.lds
 	rm -f $@.lds
 	readelf -s $@ \
-	  | $(AWK) '($$7 ~ /^UND(|EF)$$/ && $$1 != "0:" && $$4 != "REGISTER") { print; p=1 } END { exit p != 0 }'
+	  | $(AWK) '($$7 ~ /^UND(EF)?$$/ && $$1 != "0:" && $$4 != "REGISTER") { print; p=1 } END { exit p != 0 }'
 
 # interp.c exists just to get this string into the libraries.
 CFLAGS-interp.c = -D'RUNTIME_LINKER="$(slibdir)/$(rtld-installed-name)"' \
